#!/usr/bin/env python\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk\nfrom gi.repository.GdkPixbuf import Pixbuf\nfrom lutris.util.downloader import Downloader\nwnd=None\nimg_header=None\ndestfile=""\ndownloader=None\ndef handlerOk(self):\n wnd.destroy()\ndef loadHeaderImage():\n global destfile\n global downloader\n url="https://lutris.net/media/cache/52/dd/52ddbf4b6a59ab9af346ff50f7576ec6.jpg"\n destfile="/tmp/dune-2000.jpg"\n downloader=Downloader(url,destfile,True,None,loadHeaderImageCallBack)\n downloader.start()\ndef loadHeaderImageCallBack():\n img_header.set_from_pixbuf(Pixbuf.new_from_file(destfile))\ndef createDialog():\n global wnd\n global img_header\n wnd=Gtk.Window()\n wnd.set_default_size(400,400)\n wnd.set_position(Gtk.WindowPosition.CENTER)\n wnd.connect("destroy",Gtk.main_quit)\n wnd.set_title("Dune 2000")\n wnd.set_resizable(False)\n wnd.set_icon_from_file("/usr/share/lutris/media/logo.png")\n vbox=Gtk.Box(orientation=Gtk.Orientation.VERTICAL,spacing=12,visible=True)\n vbox.set_margin_top(18)\n vbox.set_margin_bottom(18)\n vbox.set_margin_right(18)\n vbox.set_margin_left(18)\n wnd.add(vbox)\n img_header=Gtk.Image()\n loadHeaderImage()\n vbox.pack_start(img_header,False,False,0)\n label=Gtk.Label()\n label.set_alignment(0,0)\n label.set_text("This installer will install Dune 2000 and the cut scenes on your machine. ")\n vbox.pack_start(label,False,False,0)\n label2=Gtk.Label()\n label2.set_alignment(0,0)\n label2.set_text("The game will ask for your preferred language, will set the game to this language, and download the cut scenes for this language.")\n vbox.pack_start(label2,False,False,0)\n action_buttons=Gtk.Box(spacing=6)\n vbox.pack_start(action_buttons,False,False,0)\n action_buttons_alignment=Gtk.Alignment.new(0,0,1,1)\n action_buttons_alignment.add(action_buttons)\n vbox.pack_start(action_buttons_alignment,False,True,50)\n ok_button=Gtk.Button("Install Dune 2000")\n ok_button.set_property("width-request",75)\n ok_button.set_hexpand(True)\n ok_button.connect("clicked",handlerOk)\n action_buttons.add(ok_button)\n wnd.show_all()\ncreateDialog()\nGtk.main()\n\n
